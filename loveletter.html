<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Honey</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;600;700&family=Poppins:wght@300;400;500&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 25%, #fecfef 50%, #fad0c4 75%, #ff9a9e 100%);
            background-size: 300% 300%;
            animation: warmBackground 8s ease-in-out infinite;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
        }

        @keyframes warmBackground {

            0%,
            100% {
                background-position: 0% 50%;
            }

            25% {
                background-position: 100% 0%;
            }

            50% {
                background-position: 100% 100%;
            }

            75% {
                background-position: 0% 100%;
            }
        }

        /* Overlay untuk memicu autoplay */
        .autoplay-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            opacity: 0;
            animation: fadeIn 0.5s ease-out forwards;
        }

        .autoplay-overlay.hidden {
            animation: fadeOut 0.5s ease-out forwards;
            pointer-events: none;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @keyframes fadeOut {
            from {
                opacity: 1;
            }

            to {
                opacity: 0;
            }
        }

        .play-button-container {
            text-align: center;
            animation: scaleIn 0.5s ease-out 0.3s both;
        }

        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.5);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .play-button {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, #ff6b6b, #ff8e8e);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 50px;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(255, 107, 107, 0.5);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .play-button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .play-button:hover::before {
            width: 150%;
            height: 150%;
        }

        .play-button:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 40px rgba(255, 107, 107, 0.6);
        }

        .play-button:active {
            transform: scale(0.95);
        }

        .play-text {
            margin-top: 20px;
            color: white;
            font-size: 1.2rem;
            font-weight: 500;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .container {
            position: relative;
            width: 90%;
            max-width: 600px;
            background: rgba(255, 255, 255, 0.95);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            padding: 40px;
            margin: 20px;
            animation: fadeInUp 1s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: linear-gradient(90deg, #ff6b6b, #ff8e8e, #ffa8a8);
            border-radius: 2px;
        }

        .title {
            font-family: 'Dancing Script', cursive;
            font-size: 3rem;
            font-weight: 700;
            background: linear-gradient(45deg, #ff6b6b, #ff8e8e, #ffa8a8, #ff6b6b);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradientShift 3s ease-in-out infinite;
            margin-bottom: 10px;
        }

        @keyframes gradientShift {

            0%,
            100% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }
        }

        .subtitle {
            font-size: 1.1rem;
            color: #666;
            font-weight: 300;
            letter-spacing: 1px;
        }

        .letter-content {
            line-height: 1.8;
            color: #444;
            font-size: 1.1rem;
            margin-bottom: 30px;
            text-align: justify;
        }

        .letter-content p {
            margin-bottom: 20px;
            animation: slideInLeft 1s ease-out;
            animation-fill-mode: both;
        }

        .letter-content p:nth-child(1) {
            animation-delay: 0.2s;
        }

        .letter-content p:nth-child(2) {
            animation-delay: 0.4s;
        }

        .letter-content p:nth-child(3) {
            animation-delay: 0.6s;
        }

        .letter-content p:nth-child(4) {
            animation-delay: 0.8s;
        }

        .letter-content p:nth-child(5) {
            animation-delay: 1.0s;
        }

        .letter-content p:nth-child(6) {
            animation-delay: 1.2s;
        }

        .letter-content p:nth-child(7) {
            animation-delay: 1.4s;
        }

        .letter-content p:nth-child(8) {
            animation-delay: 1.6s;
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .highlight {
            color: #ff6b6b;
            font-weight: 500;
            position: relative;
        }

        .highlight::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, #ff6b6b, #ffa8a8);
            border-radius: 1px;
            animation: underlineExpand 2s ease-out 1s both;
        }

        @keyframes underlineExpand {
            from {
                width: 0;
            }

            to {
                width: 100%;
            }
        }

        .signature {
            text-align: right;
            margin-top: 40px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 15px;
            border-left: 4px solid #ff6b6b;
            -webkit-backdrop-filter: blur(5px);
            backdrop-filter: blur(5px);
            animation: fadeIn 1s ease-out 1.5s both;
        }

        .signature-line {
            font-family: 'Dancing Script', cursive;
            font-size: 1.4rem;
            color: #ff6b6b;
            font-weight: 600;
            margin-bottom: 8px;
            line-height: 1.4;
        }

        .signature-name {
            font-family: 'Dancing Script', cursive;
            font-size: 1.6rem;
            color: #ff6b6b;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .signature-message {
            font-family: 'Poppins', sans-serif;
            font-size: 0.9rem;
            color: #666;
            font-style: italic;
            line-height: 1.4;
        }

        .signature-heart {
            display: inline-block;
            font-size: 1.2rem;
            margin-left: 5px;
            animation: heartBeat 1.5s ease-in-out infinite;
        }

        @keyframes heartBeat {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.2);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .hearts {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
        }

        .heart {
            position: absolute;
            font-size: 20px;
            color: #ff6b6b;
            animation: float 6s ease-in-out infinite;
            opacity: 0.6;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0) rotate(0deg);
                opacity: 0.6;
            }

            50% {
                transform: translateY(-20px) rotate(180deg);
                opacity: 0.3;
            }
        }

        .heart:nth-child(1) {
            top: 10%;
            left: 10%;
            animation-delay: 0s;
        }

        .heart:nth-child(2) {
            top: 20%;
            right: 10%;
            animation-delay: 1s;
        }

        .heart:nth-child(3) {
            top: 60%;
            left: 5%;
            animation-delay: 2s;
        }

        .heart:nth-child(4) {
            top: 80%;
            right: 20%;
            animation-delay: 3s;
        }

        .heart:nth-child(5) {
            top: 40%;
            right: 5%;
            animation-delay: 4s;
        }

        .love-button {
            display: block;
            margin: 30px auto 0;
            padding: 12px 30px;
            background: linear-gradient(45deg, #ff6b6b, #ff8e8e);
            border: none;
            border-radius: 25px;
            color: white;
            font-size: 1.1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
        }

        .love-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4);
        }

        .love-button:active {
            transform: translateY(0);
        }

        .audio-controls {
            text-align: center;
            margin-top: 20px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            -webkit-backdrop-filter: blur(5px);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .music-button {
            display: inline-block;
            margin-bottom: 15px;
            padding: 12px 25px;
            background: linear-gradient(45deg, #ff6b6b, #ff8e8e);
            border: none;
            border-radius: 20px;
            color: white;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.2);
        }

        .music-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.3);
        }

        .music-button.playing {
            background: linear-gradient(45deg, #4ecdc4, #44a08d);
            animation: musicPulse 1.5s ease-in-out infinite;
        }

        @keyframes musicPulse {

            0%,
            100% {
                transform: scale(1);
                box-shadow: 0 4px 15px rgba(78, 205, 196, 0.3);
            }

            50% {
                transform: scale(1.05);
                box-shadow: 0 8px 25px rgba(78, 205, 196, 0.5);
            }
        }

        .volume-control {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
        }

        .volume-control span {
            font-size: 1.2rem;
        }

        #volumeSlider {
            width: 120px;
            height: 6px;
            border-radius: 3px;
            background: #ddd;
            outline: none;
            -webkit-appearance: none;
            appearance: none;
            cursor: pointer;
        }

        #volumeSlider::-webkit-slider-thumb {
            appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #ff6b6b;
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
            transition: all 0.2s ease;
        }

        #volumeSlider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.3);
        }

        .music-note {
            display: inline-block;
            animation: musicFloat 2s ease-in-out infinite;
            margin: 0 5px;
        }

        @keyframes musicFloat {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-5px);
            }
        }

        .sparkles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
        }

        .sparkle {
            position: absolute;
            background: #ffd700;
            border-radius: 50%;
            pointer-events: none;
            animation: sparkle 1s ease-out forwards;
        }

        .floating-hearts {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
        }

        .floating-heart {
            position: absolute;
            font-size: 20px;
            color: rgba(255, 107, 107, 0.8);
            animation: floatUpHeart 4s ease-out forwards;
        }

        @keyframes floatUpHeart {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1) rotate(0deg);
            }

            50% {
                opacity: 0.8;
                transform: translateY(-60px) scale(1.2) rotate(180deg);
            }

            100% {
                opacity: 0;
                transform: translateY(-150px) scale(1.5) rotate(360deg);
            }
        }

        @keyframes sparkle {
            0% {
                opacity: 1;
                transform: scale(0) rotate(0deg);
            }

            50% {
                opacity: 0.8;
                transform: scale(1) rotate(180deg);
            }

            100% {
                opacity: 0;
                transform: scale(0) rotate(360deg);
            }
        }

        .autoplay-notice {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 107, 107, 0.9);
            color: white;
            padding: 10px 20px;
            border-radius: 10px;
            font-size: 0.9rem;
            z-index: 1000;
            animation: slideInRight 0.5s ease-out;
            backdrop-filter: blur(5px);
        }

        .autoplay-notice.hidden {
            animation: slideOutRight 0.5s ease-out forwards;
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(100px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideOutRight {
            from {
                opacity: 1;
                transform: translateX(0);
            }

            to {
                opacity: 0;
                transform: translateX(100px);
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 25px;
                margin: 10px;
            }

            .title {
                font-size: 2.5rem;
            }

            .letter-content {
                font-size: 1rem;
            }

            .signature {
                padding: 15px;
                margin-top: 30px;
            }

            .signature-line {
                font-size: 1.2rem;
            }

            .signature-name {
                font-size: 1.4rem;
            }

            .signature-message {
                font-size: 0.85rem;
            }

            .audio-controls {
                padding: 15px;
            }

            .volume-control {
                flex-direction: column;
                gap: 8px;
            }

            #volumeSlider {
                width: 100px;
            }

            .autoplay-notice {
                top: 10px;
                right: 10px;
                left: 10px;
                font-size: 0.8rem;
                padding: 8px 15px;
            }
        }
    </style>
</head>

<body>
    <!-- Overlay untuk memicu autoplay -->
    <div class="autoplay-overlay" id="autoplayOverlay">
        <div class="play-button-container">
            <button class="play-button" onclick="startExperience()">
                ▶️
            </button>
            <p class="play-text">Klik untuk memulai dengan musik romantis</p>
        </div>
    </div>

    <div class="container">
        <div class="hearts">
            <div class="heart">💖</div>
            <div class="heart">💕</div>
            <div class="heart">💗</div>
            <div class="heart">💓</div>
            <div class="heart">💝</div>
        </div>

        <div class="header">
            <h1 class="title">Surat Cinta</h1>
            <p class="subtitle">Untuk Masa Depanku</p>
        </div>

        <div class="letter-content">
            <p>Hai Calon Istriku,</p>

            <p>Di antara banyaknya wajah yang berlalu, hanya satu yang mampu membuat langkahku berhenti: wajahmu. Bukan
                hanya karena parasmu yang cantik jelita, tapi karena caramu menatap dunia dengan mata yang penuh
                kehangatan. Kamu bukan sekadar indah dilihat, tapi juga nyaman dirasa. Ada sesuatu dalam dirimu yang tak
                bisa dijelaskan dengan logika, hanya bisa dirasakan oleh hati yang tulus mencintai.</p>

            <p>Setiap kata yang keluar dari mulutmu terasa seperti bisikan lembut yang menenangkan badai dalam diriku.
                Kamu berbicara bukan untuk menguasai, tapi untuk merangkul. Di saat orang lain berlomba-lomba
                meninggikan suara, kamu justru hadir dengan ketenangan yang menyembuhkan. Dalam diam pun kamu mengerti,
                dan dalam kata-katamu ada pelukan yang tak terlihat.</p>

            <p>Sikapmu kadang cuek, seolah tak peduli. Tapi hanya aku yang tahu bahwa di balik sikap itu, kamu
                memperhatikan segalanya. Kamu mengingat hal-hal kecil yang bahkan aku lupakan. Kamu peduli dalam diam,
                mencintai dalam sunyi, dan hadir saat aku bahkan tak sempat meminta. Itu yang membuatmu berbeda—dan
                istimewa.</p>

            <p>Namun, aku sadar... seringkali aku justru membuatmu kesal. Kadang sikapku bikin kamu bad mood, dan
                mungkin lelah menghadapi aku yang terlalu keras kepala atau tak peka. Aku minta maaf untuk setiap kali
                kamu harus menarik napas panjang karena tingkahku. Maaf karena belum selalu jadi orang yang pantas untuk
                kebaikan hatimu.</p>

            <p>Saat dunia rasanya terlalu berat, dan pundakku sudah lelah menanggung semuanya, kamu hadir seperti cahaya
                di ujung lorong gelap. Tak perlu banyak hal—cukup sapaanmu, senyumanmu, dan harapan-harapan kecil yang
                kamu sisipkan di sela doa-doamu. Kamu membuat aku percaya bahwa semua akan baik-baik saja, hanya karena
                kamu ada di sini.</p>

            <p>Aku melihatmu bukan hanya sebagai seseorang yang hadir di hari ini, tapi juga sosok yang ingin aku
                genggam tangannya di hari esok. Kamu bukan hanya masa kini yang indah, tapi masa depan yang aku doakan.
                Bukan hanya pasangan untuk diajak berjalan, tapi teman hidup untuk diajak tumbuh.</p>

            <p>Jadi jika dunia bertanya siapa yang paling berarti bagiku, jawabanku sederhana: kamu. Dalam hidupku, kamu
                adalah titik koma—yang membuatku berhenti sejenak, lalu lanjut berjalan dengan makna baru. Kamu adalah
                kisah yang tak ingin kuakhiri, dan cinta yang tak ingin kulepaskan. Kamu adalah selamanya yang aku
                pilih, dan aku syukuri setiap hari. Dan untuk semua salahku yang mungkin meninggalkan luka kecil di
                hatimu—aku sungguh minta maaf. Tapi satu hal yang tak akan pernah berubah: aku selalu mencintaimu,
                sepenuh hati, tanpa ragu.</p>
        </div>

        <div class="signature">
            <div class="signature-name">From Me,</div>
            <div class="signature-message">
                Yang diam-diam mendoakan yang terbaik buatmu
                <span class="signature-heart">❤️</span>
            </div>
        </div>


        <button class="love-button" onclick="showLove()">💕 Kirim Cinta 💕</button>

        <div class="audio-controls">
            <button class="music-button" onclick="toggleMusic()" id="musicBtn">
                ⏸️ Hentikan Musik <span class="music-note">♪</span>
            </button>
            <div class="volume-control">
                <span>🔊</span>
                <input type="range" id="volumeSlider" min="0" max="100" value="50" onchange="setVolume()">
                <span id="volumeDisplay">50%</span>
            </div>
        </div>
    </div>

    <div class="autoplay-notice hidden" id="autoplayNotice">
        🎵 Musik romantis sedang diputar...
    </div>

    <div class="sparkles" id="sparkles"></div>

    <!-- Audio element untuk musik -->
    <audio id="backgroundMusic" loop preload="auto">
        <source src="asset/audio/righ-there-waiting-you.mp3" type="audio/mpeg">
        <source src="asset/audio/righ-there-waiting-you.ogg" type="audio/ogg">
        <source src="asset/audio/righ-there-waiting-you.wav" type="audio/wav">
        Your browser does not support the audio element.
    </audio>

    <script>
        let musicPlaying = false;
        const audio = document.getElementById('backgroundMusic');

        // Set initial volume
        audio.volume = 0.5;

        // Fungsi untuk memulai experience dengan user interaction
        function startExperience() {
            const overlay = document.getElementById('autoplayOverlay');
            const notice = document.getElementById('autoplayNotice');

            // Sembunyikan overlay
            overlay.classList.add('hidden');
            setTimeout(() => {
                overlay.style.display = 'none';
            }, 500);

            // Mulai musik
            audio.play().then(() => {
                musicPlaying = true;
                const button = document.getElementById('musicBtn');
                button.innerHTML = '⏸️ Hentikan Musik <span class="music-note">♪</span>';
                button.classList.add('playing');

                // Tampilkan notice
                notice.classList.remove('hidden');

                // Buat efek sparkle
                for (let i = 0; i < 15; i++) {
                    setTimeout(() => {
                        const x = Math.random() * window.innerWidth;
                        const y = Math.random() * window.innerHeight;
                        createSparkle(x, y);
                    }, i * 100);
                }

                // Sembunyikan notice setelah 3 detik
                setTimeout(() => {
                    notice.classList.add('hidden');
                }, 3000);

            }).catch((error) => {
                console.log('Audio play failed:', error);
                alert('Tidak dapat memutar musik. Pastikan file audio tersedia.');
            });
        }

        function toggleMusic() {
            const button = document.getElementById('musicBtn');

            if (!musicPlaying) {
                // Start music
                audio.play().then(() => {
                    musicPlaying = true;
                    button.innerHTML = '⏸️ Hentikan Musik <span class="music-note">♪</span>';
                    button.classList.add('playing');

                    // Tambah sparkle saat musik dimulai
                    for (let i = 0; i < 10; i++) {
                        setTimeout(() => {
                            const x = Math.random() * window.innerWidth;
                            const y = Math.random() * window.innerHeight;
                            createSparkle(x, y);
                        }, i * 100);
                    }
                }).catch((error) => {
                    console.log('Audio play failed:', error);
                    alert('Tidak dapat memutar musik. Pastikan file audio tersedia.');
                });

            } else {
                // Stop music
                audio.pause();
                musicPlaying = false;
                button.innerHTML = '🎵 Putar Musik Romantis <span class="music-note">♪</span>';
                button.classList.remove('playing');
            }
        }

        function setVolume() {
            const volume = document.getElementById('volumeSlider').value / 100;
            document.getElementById('volumeDisplay').textContent = Math.round(volume * 100) + '%';
            audio.volume = volume;
        }

        // Event listener untuk ketika musik selesai (jika tidak loop)
        audio.addEventListener('ended', () => {
            musicPlaying = false;
            const button = document.getElementById('musicBtn');
            button.innerHTML = '🎵 Putar Musik Romantis <span class="music-note">♪</span>';
            button.classList.remove('playing');
        });

        // Event listener untuk error handling
        audio.addEventListener('error', (e) => {
            console.log('Audio error:', e);
            const notice = document.getElementById('autoplayNotice');
            notice.innerHTML = '❌ File audio tidak ditemukan';
            notice.style.background = 'rgba(255, 0, 0, 0.9)';
            notice.classList.remove('hidden');
        });

        function createSparkle(x, y) {
            const sparkle = document.createElement('div');
            sparkle.className = 'sparkle';
            sparkle.style.left = x + 'px';
            sparkle.style.top = y + 'px';
            sparkle.style.width = Math.random() * 8 + 4 + 'px';
            sparkle.style.height = sparkle.style.width;

            document.getElementById('sparkles').appendChild(sparkle);

            setTimeout(() => {
                sparkle.remove();
            }, 1000);
        }

        function showLove() {
            const button = document.querySelector('.love-button');
            const rect = button.getBoundingClientRect();

            // Buat efek sparkle di sekitar tombol
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const x = rect.left + Math.random() * rect.width;
                    const y = rect.top + Math.random() * rect.height;
                    createSparkle(x, y);
                }, i * 50);
            }

            // Buat floating hearts dari bawah
            createFloatingHearts();

            // Ubah teks tombol sementara
            button.textContent = '💖 Cinta Terkirim! 💖';
            button.style.background = 'linear-gradient(45deg, #ff1744, #ff5722)';

            setTimeout(() => {
                button.textContent = '💕 Kirim Cinta 💕';
                button.style.background = 'linear-gradient(45deg, #ff6b6b, #ff8e8e)';
            }, 2000);
        }

        function createFloatingHearts() {
            const heartsContainer = document.querySelector('body');
            const hearts = ['💖', '💕', '💗', '💓', '💝', '💘', '❤️', '💜', '🧡', '💛'];

            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.className = 'floating-heart';
                    heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                    heart.style.left = Math.random() * window.innerWidth + 'px';
                    heart.style.bottom = '-30px';
                    heart.style.animationDelay = Math.random() * 1 + 's';
                    heart.style.animationDuration = (3 + Math.random() * 2) + 's';

                    heartsContainer.appendChild(heart);

                    setTimeout(() => {
                        if (heart.parentNode) {
                            heart.remove();
                        }
                    }, 6000);
                }, i * 100);
            }
        }

        // Animasi sparkle random
        setInterval(() => {
            if (Math.random() < 0.3) {
                const x = Math.random() * window.innerWidth;
                const y = Math.random() * window.innerHeight;
                createSparkle(x, y);
            }
        }, 4000);

        // Efek mouse hover untuk sparkle
        document.addEventListener('mousemove', (e) => {
            if (Math.random() < 0.05) {
                createSparkle(e.clientX, e.clientY);
            }
        });

        // Initialize saat halaman dimuat
        document.addEventListener('DOMContentLoaded', () => {
            setVolume();

            // Preload audio
            audio.load();

            // Cek apakah browser mendukung autoplay
            const canAutoplay = audio.play().then(() => {
                // Autoplay berhasil, pause dulu dan sembunyikan overlay
                audio.pause();
                const overlay = document.getElementById('autoplayOverlay');
                overlay.style.display = 'none';

                // Langsung mulai musik
                setTimeout(() => {
                    audio.play();
                    musicPlaying = true;
                    const button = document.getElementById('musicBtn');
                    button.innerHTML = '⏸️ Hentikan Musik <span class="music-note">♪</span>';
                    button.classList.add('playing');

                    const notice = document.getElementById('autoplayNotice');
                    notice.classList.remove('hidden');

                    setTimeout(() => {
                        notice.classList.add('hidden');
                    }, 3000);
                }, 100);
            }).catch(() => {
                // Autoplay diblokir, tampilkan overlay
                console.log('Autoplay blocked, showing play button');
            });
        });

        // Coba autoplay saat visibility berubah (untuk handle tab switching)
        document.addEventListener('visibilitychange', () => {
            if (!document.hidden && !musicPlaying) {
                const overlay = document.getElementById('autoplayOverlay');
                if (overlay.style.display === 'none') {
                    audio.play().then(() => {
                        musicPlaying = true;
                        const button = document.getElementById('musicBtn');
                        button.innerHTML = '⏸️ Hentikan Musik <span class="music-note">♪</span>';
                        button.classList.add('playing');
                    }).catch(() => {
                        console.log('Autoplay still blocked');
                    });
                }
            }
        });

        // Handle page show event (untuk back/forward navigation)
        window.addEventListener('pageshow', (event) => {
            if (!musicPlaying) {
                setTimeout(() => {
                    const overlay = document.getElementById('autoplayOverlay');
                    if (overlay.style.display === 'none') {
                        audio.play().then(() => {
                            musicPlaying = true;
                            const button = document.getElementById('musicBtn');
                            button.innerHTML = '⏸️ Hentikan Musik <span class="music-note">♪</span>';
                            button.classList.add('playing');
                        }).catch(() => {
                            console.log('Autoplay blocked on pageshow');
                        });
                    }
                }, 100);
            }
        });
    </script>
</body>

</html>